!function(a){"use strict";a.fn.swipe=function(b,c){var d=a(this),e=!1,f=!1,g={};c=c||20;var h=function(a){g.end={x:a.originalEvent.pageX||a.originalEvent.touches[0].pageX,y:a.originalEvent.pageX||a.originalEvent.touches[0].pageX};var b,d;return b=c<Math.abs(g.start.x-g.end.x)?g.end.x>g.start.x?"right":"left":"none",d=c<Math.abs(g.start.y-g.end.y)?g.end.y>g.start.y?"down":"up":"none",{direction:{x:b,y:d},offset:{x:g.end.x-g.start.x,y:g.end.y-g.start.y}}};d.on("touchstart mousedown",function(a){e=!0,f=!0,g={start:{x:a.originalEvent.pageX||a.originalEvent.touches[0].pageX,y:a.originalEvent.pageX||a.originalEvent.touches[0].pageX},end:{x:0,y:0}}}),d.on("touchend mouseup",function(){e=!1}),d.on("touchmove mousemove",function(a){if(!1!==e){var c=h(a);!0===f&&("none"!==c.direction.x||"none"!==c.direction.y)&&(b("none"!==c.direction.x?c.direction.x:c.direction.y),f=!1)}})}}(jQuery),function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="Zoomgallery",g={minMove:20};a.extend(e.prototype,{init:function(){var b=a(this.element);this.setStyle(b),this.initButtons(b)},setStyle:function(b){var c=this,d=b.find(".zoomgallery-row"),e=100/d.size(),f=e,g=0;b.find(".zoomgallery-row").each(function(){c.calcPosition(a(this).find(".zoomgallery-item"),g,e),g+=f}),b.find(".zoomgallery-item").each(function(){var c=a(this).children(".zoomgallery-image");c.attr("data-thumbnail")&&""!==c.data("thumbnail")?c.css("backgroundImage",'url("'+c.data("thumbnail")+'")'):c.css("backgroundImage",'url("'+c.data("image")+'")'),a(this).data("style",{left:100*parseFloat(a(this).css("left"))/parseFloat(b.css("width"))+"%",right:100*parseFloat(a(this).css("right"))/parseFloat(b.css("width"))+"%",height:100*parseFloat(a(this).css("height"))/parseFloat(b.css("height"))+"%",width:100*parseFloat(a(this).css("width"))/parseFloat(b.css("width"))+"%",top:100*parseFloat(a(this).css("top"))/parseFloat(b.css("height"))+"%",transition:a(this).css("transition")})}),b.find(".zoomgallery-menu").css("height",b.css("height"))},calcPosition:function(b,c,d){var e=100/b.size(),f=100-e,g=0;b.each(function(){a(this).css({left:g+"%",right:f-g+"%",top:c+"%",width:e+"%",height:d+"%"}),g+=e})},initButtons:function(b){var c=this,d=b.find(".zoomgallery-open"),e=b.find(".zoomgallery-row .zoomgallery-item"),f=b.find(".zoomgallery-menu .close"),g=b.find(".zoomgallery-menu .next"),h=b.find(".zoomgallery-menu .previous");e.on("click",function(c){c.preventDefault(),a(this).children(".zoomgallery-image").css("backgroundImage",'url("'+a(this).children(".zoomgallery-image").data("image")+'")'),d.css("display","none"),a(this).css("z-index",10).animate({left:0,right:0,top:0,width:"100%",height:b.css("height")},function(){b.find(".zoomgallery-menu").css("zIndex",100)}).addClass("zoomed")}),f.on("click",function(a){a.preventDefault();var c=b.find(".zoomed"),d=function(){c.css("zIndex",1).removeClass("zoomed"),b.find(".zoomgallery-open").css("display","block")};b.find(".zoomgallery-menu").css("zIndex",0),c.animate(c.data("style"),function(){d()})}),g.on("click",function(a){a.preventDefault();var d=b.find(".zoomed"),e=d.next(".zoomgallery-item");if(0===e.length){var f=d.closest(".zoomgallery-row"),g=f.next(".zoomgallery-row");0===g.length?(e=f.prevAll(".zoomgallery-row").last().children(".zoomgallery-item").first(),0===e.length&&(e=d.prevAll(".zoomgallery-item").last())):e=g.children(".zoomgallery-item").first()}d.removeClass("zoomed"),c.slideImages(b,d,e,"100%")}),h.on("click",function(a){a.preventDefault();var d=b.find(".zoomed"),e=d.prev(".zoomgallery-item");if(0===e.length){var f=d.closest(".zoomgallery-row"),g=f.prev(".zoomgallery-row");0===g.length?(e=f.nextAll(".zoomgallery-row").last().children(".zoomgallery-item").last(),0===e.length&&(e=d.nextAll(".zoomgallery-item").last())):e=g.children(".zoomgallery-item").last()}d.removeClass("zoomed"),c.slideImages(b,d,e,"-100%")}),b.swipe(function(a){"left"===a&&g.trigger("click"),"right"===a&&h.trigger("click")},c.settings.minMove)},slideImages:function(a,b,c,d){c.children(".zoomgallery-image").css("backgroundImage",'url("'+c.children(".zoomgallery-image").data("image")+'")');var e=function(){b.css(b.data("style")).css("zIndex",1),c.css("zIndex",10)};c.css({left:d,width:"100%",top:0,height:a.css("height"),zIndex:11}).addClass("zoomed").animate({left:0},function(){e()})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this}}(jQuery,window,document);